func_admingui_get_action ()	# element1: ${STRING%|*}
{				# element2: ${STRING#*|}
	case $1 in
		all)
			echo "user_add user_edit user_show profile_add profile_edit"
		;;
		user_add)
			echo "Benutzer hinzuf&uuml;gen|neue Benutzer anlegen"
		;;
		user_edit)
			echo "Benutzer bearbeiten|vorhandene Benutzer bearbeiten"
		;;
		user_show)
			echo "Benutzer anzeigen|alle angelegten Benutzer anzeigen"
		;;
		profile_add)
			echo "Benutzerprofil erstellen|neues Benutzerprofil anlegen"
		;;
		profile_edit)
			echo "Benutzerprofil bearbeiten|vorhandes Benutzerprofil bearbeiten oder l&ouml;schen"
		;;
		*)
			echo "Auswahl|hier werden Benutzer oder Profile verwaltet"
		;;
	esac
}

func_admingui_links2category ()
{
	local ACTION BGCOLOR DESC DESC_SHORT DESC_LONG
	
	for ACTION in $(func_admingui_get_action all); do {
		case $BGCOLOR in "#FAEBD7") BGCOLOR="#DCDCDC" ;;        
					 *) BGCOLOR="#FAEBD7" ;; esac                                 

		DESC="$( func_admingui_get_action $ACTION )"                          
		DESC_SHORT="${DESC%|*}"                    
		DESC_LONG="${DESC#*|}"                     

		echo -n "<td bgcolor='$BGCOLOR' align='center'>"        
		echo -n "<form method='GET'><input type='hidden' name='FORM_ACTION' value='$ACTION'><input type='submit' value='$DESC_SHORT'></form>"
		echo -n "$DESC_LONG</td>"                               
	} done
}

func_admingui_user_add_form ()
{
	local VALUE DESC DESC_SHORT DESC_LONG BGCOLOR
	
	echo -n "<form method='get'>"
	echo -n "<input type='hidden' name='FORM_ACTION' value='user_add'>"
	echo -n "<table cellspacing='2' cellpadding='2' border='0' width='100%'>"
	
	for VALUE in $(func_admingui_user_add_form_get_elements all); do {
		case $BGCOLOR in "#FAEBD7") BGCOLOR="#DCDCDC" ;;
					 *) BGCOLOR="#FAEBD7" ;; esac
					 
		DESC="$( func_admingui_user_add_form_get_elements $VALUE )"
		DESC_SHORT="${DESC%|*}"
		DESC_LONG="${DESC#*|}"
		
		echo -n "<tr><td bgcolor='$BGCOLOR'>$DESC_SHORT</td><td bgcolor='$BGCOLOR'>"
		echo -n "<input type='text' name='FORM_USERADD_$VALUE' value='$( func_admingui_user_add_form_get_elements $VALUE default )'>"
		echo -n "</td><td bgcolor='$BGCOLOR'>$DESC_LONG</td></tr>"
	} done

	echo -n "<tr><td valign='middle' align='center' bgcolor='#D3D3D3' colspan='2'><br>"
	echo -n "<input type='submit' value='Benutzer anlegen'><br><br>"
	echo -n "</td><td bgcolor='#D3D3D3'>&nbsp;</td></tr></table>"
}

func_admingui_user_add_form_get_elements ()
{
	case $1 in
		all)
			echo -n "COUNT PROFILE COMMENT NAME PASS MAC MAXMAC ISOLATION"
		;;
		COUNT)
			[ "$2" = "default" ] && echo -n "1" && return
			echo -n "Benutzeranzahl|wieviele Benutzer sollen angelegt werden?"
		;;
		NAME)
			[ "$2" = "default" ] && echo -n "auto" && return
			echo -n "Benutzername|wird automatisch vorgegeben, kann aber auch manuell vergeben werden"
		;;
		PASS)
			[ "$2" = "default" ] && echo -n "auto" && return
			echo -n "Passwort|wird automatisch vorgegeben, kann aber auch manuell vergeben werden"	
		;;
		PROFILE)
			# fixme! muss eine selectbox sein
		
			[ "$2" = "default" ] && echo -n "24-Stunden-Ticket" && return
			echo -n "Profil|Zusammenfassung grundlegender Benutzerrechte (G&uuml;ltigkeitsdauer,&nbsp;...)"
		;;
		MAC)
			[ "$2" = "default" ] && echo -n "auto" && return
			echo -n "MAC-Adresse|wird automatisch vorgegeben, kann aber auch manuell vergeben werden"
		;;
		MAXMAC)
			[ "$2" = "default" ] && echo -n "1" && return
			echo -n "Ger&auml;teanzahl|Endger&auml;te die sich mit gleicher Kennung anmelden d&uuml;rfen (Gruppenticket)"
		;;
		COMMENT)
			[ "$2" = "default" ] && echo -n "..." && return
			echo -n "Kommentar|zur freien Verwendung, z.B. Zimmernummer"
		;;
		ISOLATION)
			# fixme! muss radio-button werden
			
			[ "$2" = "default" ] && echo -n "ja" && return
			echo -n "Isolation|Schutz des Netzteilnehmer vor Zugriff durch andere Benutzer?"
		;;
	esac
}


