_filetype_compressed ()
{
	local FILE="$1"
	local TYPE
	local TYPES_ALL="gzip"

	for TYPE in $TYPES_ALL; do {
		_filetype_$TYPE "$FILE" && return 0
	} done
	
	return 1
}

_filetype_gzip ()
{
	local FILE="$1"
	local GREPMAGIC="^8b1f"
	local OUT
	
	dd if="$FILE" bs=2 count=1 2>&- |
	 hexdump |
	  if read LINE; then
	  	echo "${LINE#* }"
	  fi |
	   fgrep -q 8b1f && return 0

	return 1
}
